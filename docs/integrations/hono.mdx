---
title: Hono
---

[Hono](https://hono.dev/) is a lightweight web framework that works well with RivetKit across multiple deployment platforms. This guide explains how to integrate RivetKit with Hono on different platforms.

## Mounting The RivetKit Router

When mounting the RivetKit router at a custom path, you **must** specify the same path in the router configuration using `basePath`:

```typescript
// Setup the RivetKit app
const app = setup({
  workers: { counter },
  // IMPORTANT: Must specify the same basePath where your router is mounted
  basePath: "/my-path"
});

// Create a router from the app
const { router: workerRouter } = createRouter(app);

// Mount at the same path specified in basePath
honoApp.route("/my-path", workerRouter);
```

This ensures that WebSocket connections and other functionality work correctly when accessing your workers through the custom path.

## Platform-Specific Examples

Each platform has specific requirements for integrating Hono with RivetKit.

### Cloudflare Workers

```typescript
import { createRouter } from "@rivetkit/cloudflare-workers";
import { setup } from "rivetkit";
import { Hono } from "hono";
import counter from "./counter";

// Create your Hono app inside the fetch handler
const honoApp = new Hono();

// Add your custom routes
honoApp.get("/", (c) => c.text("Welcome to my app!"));
honoApp.get("/hello", (c) => c.text("Hello, world!"));

// Setup the RivetKit app
const app = setup({
  workers: { counter },
  // IMPORTANT: Must specify the same basePath where your router is mounted
  basePath: "/my-path"
});

// Create a router and handler from the app
const { router: workerRouter, WorkerHandler } = createRouter(app);

// Mount the RivetKit router at /my-path
honoApp.route("/my-path", workerRouter);

// Export the app type for client usage
export type App = typeof app;

// IMPORTANT: Must export `WorkerHandler` as this exact name
export { honoApp as default, WorkerHandler };
```

Make sure to update your client connection URL to include the custom path:

```typescript
// If you mounted RivetKit at /my-path
import { createClient } from "rivetkit/client";
import type { App } from "./src/index";

const client = createClient<App>("https://your-worker.workers.dev/my-path");
```

For this to work with Cloudflare Workers, your `wrangler.json` **must** include specific Durable Object and KV namespace bindings with the exact names expected by RivetKit:

```json
{
  "name": "counter",
  "main": "src/index.ts",
  "compatibility_date": "2025-01-29",
  "migrations": [
    {
      "new_classes": ["WorkerHandler"],
      "tag": "v1"
    }
  ],
  "durable_objects": {
    "bindings": [
      {
        "class_name": "WorkerHandler", // Must match exported class
        "name": "WORKER_DO"            // Must use this exact name
      }
    ]
  },
  "kv_namespaces": [
    {
      "binding": "WORKER_KV",          // Must use this exact name
      "id": "YOUR_KV_NAMESPACE_ID"    // Replace with your KV ID
    }
  ]
}
```


### Node.js

```typescript
import { serve } from "@hono/node-server";
import { Hono } from "hono";
import { setup, createRouter } from "@rivetkit/nodejs";
import counter from "./counter";

// Create your Hono app
const honoApp = new Hono();

// Add your custom routes
honoApp.get("/", (c) => c.text("Welcome to my app!"));
honoApp.get("/hello", (c) => c.text("Hello, world!"));

// Setup the RivetKit app
const app = setup({
  workers: { counter },
  // IMPORTANT: Must specify the same basePath where your router is mounted
  basePath: "/my-path"
});

// Create a router from the app
const { router: workerRouter, injectWebSocket } = createRouter(app);

// Mount the RivetKit router at /my-path
honoApp.route("/my-path", workerRouter);

// Export the app type for client usage
export type App = typeof app;

// Create server with the combined app
const server = serve({
  fetch: honoApp.fetch,
  port: 6420,
});

// IMPORTANT: Inject the websocket handler into the server
injectWebSocket(server);

console.log("Server running at http://localhost:6420");
```

Make sure to update your client connection URL to include the custom path:

```typescript
// If you mounted RivetKit at /my-path
import { createClient } from "rivetkit/client";
import type { App } from "./src/index";

const client = createClient<App>("http://localhost:6420/my-path");
```

### Bun

```typescript
import { Hono } from "hono";
import { setup, createRouter } from "@rivetkit/bun";
import counter from "./counter";

// Create your Hono app
const honoApp = new Hono();

// Add your custom routes
honoApp.get("/", (c) => c.text("Welcome to my app!"));
honoApp.get("/hello", (c) => c.text("Hello, world!"));

// Setup the RivetKit app
const app = setup({
  workers: { counter },
  // IMPORTANT: Must specify the same basePath where your router is mounted
  basePath: "/my-path"
});

// Create a router from the app
const { router: workerRouter, webSocketHandler } = createRouter(app);

// Mount the RivetKit router at /my-path
honoApp.route("/my-path", workerRouter);

// Export the app type for client usage
export type App = typeof app;

// Create and start the server
export default {
  port: 6420,
  fetch: honoApp.fetch,
  // IMPORTANT: Pass the webSocketHandler to Bun
  websocket: webSocketHandler,
};
```

Make sure to update your client connection URL to include the custom path:

```typescript
// If you mounted RivetKit at /my-path
import { createClient } from "rivetkit/client";
import type { App } from "./src/index";

const client = createClient<App>("http://localhost:6420/my-path");
```
